<div class="container-fluid p-5" id="admin-background">
    <div class="overflow-hidden mx-5 border border-0 rounded-2 shadow">
        <div class="row g-0">
            <div class="col-2 overflow-hidden">
                <%- include('../partials/sidebarMenu.ejs') %>
            </div>
            <div class="col-10">
                <div class="row g-0">
                    <%- include('../partials/header.ejs') %>
                </div>
                
                <div class="row g-0">
                    <div class="container-fluid bg-white-200 bg-opacity-75 text-center p-4 po-ralative">
                        <p class="fs-5 text-gray-700 text-start" id="pageTitle">Thông tin bác sĩ</p>
                        <div id="contentArea">
                            <div class="row m-0">
                                <div class="col-8 text-start border border-0 rounded shadow-sm bg-white">
                                    <% if (docInfo && docInfo.appointments && docInfo.appointments.length > 0) { %>
                                        <p class="fs-5 fw-bold mt-2 text-center">Lịch làm việc</p>
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                                <tr>
                                                    <th class="text-center">Ngày làm việc</th>
                                                    <th class="text-center">Ngày đặt lịch</th>
                                                    <th class="text-center">Tùy chỉnh</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% docInfo.appointments.forEach(function(appointment) { %>
                                                    <tr>
                                                        <td class="text-end p-2"><%= appointment.appointment_time %></td>
                                                        <td class="text-end p-2"><%= appointment.createdAt %></td>
                                                        <td class="w-25 text-center">
                                                            <a href="/admin/lich-hen/thong-tin/<%= appointment.appointment_id %>" class="text-decoration-none text-secondary" title="Xem" id="appointmentLinkID">
                                                                <i class="fas fa-eye fs-5 me-2"></i>Xem chi tiết
                                                            </a>
                                                        </td>
                                                    </tr>
                                                <% }) %>
                                            </tbody>
                                        </table>
                                    <% } else { %>
                                        <p class="fs-2 m-0 text-danger text-center">Không có lịch làm việc</p>
                                    <% } %>
                                </div>
                                <div class="col ms-3 ps-2 text-start">
                                    <div class="row mb-2 border border-0 rounded shadow-sm bg-white">
                                        <% if (docInfo) { %>
                                        <p class="fw-bold fs-5 text-center">Thông tin bác sĩ</p>
                                        <p class="m-0">
                                            Bác sĩ <%= docInfo.user.name %>
                                            <i class="fas fa-edit fw-light text-cyan-400 ms-2" style="cursor: pointer;" title="Chỉnh sửa thông tin" onclick="editDocInfo()"></i>
                                        </p>
                                        <p class="m-0">Giới thiệu: <%= docInfo.introduction %></p>
                                        <p class="m-0">Kinh nghiệm làm việc: <%= docInfo.work_experience %></p>
                                        <p class="m-0">Giá cho người Việt Nam: <%= docInfo.price_vietnamese %></p>
                                        <p class="m-0">Giá cho người nước ngoài: <%= docInfo.price_foreigners %></p>
                                        <p class="m-0">Chuyên khoa: <%= docInfo.specialties.join(', ') %></p>
                                        <% } else { %>
                                            <p class="fs-6 m-0">Không có bác sĩ</p>
                                        <% } %>
                                    </div>
                                    <div class="row border border-0 rounded shadow-sm bg-white">
                                        <% if (docInfo) { %>
                                        <p class="fw-bold fs-5 text-center">Thông tin tài khoản</p>
                                            <p class="m-0">
                                                Tài khoản <%= docInfo.user.user_id %>
                                                <i class="fas fa-edit fw-light text-cyan-400 ms-2" style="cursor: pointer;" title="Chỉnh sửa thông tin" onclick="editDocInfo()"></i>
                                            </p>
                                            <p class="m-0">Vai trò: <span class="text-blue-400"><%= docInfo.user.role %></span></p>
                                            <p class="m-0">Giới tính: <%= docInfo.user.gender %></p>
                                            <p class="m-0">Số điện thoại: <%= docInfo.user.phone_number %></p>
                                            <p class="m-0">CMND/CCCD: <%= docInfo.user.citizen_id_card %></p>
                                            <p class="m-0">Ngày sinh: <%= docInfo.user.day_of_birth %></p>
                                            <p class="m-0">Địa chỉ: <%= docInfo.user.address %></p>
                                        <% } else { %>
                                            <p class="fs-6 m-0">Không có thông tin</p>
                                        <% } %>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
